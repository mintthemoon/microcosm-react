@import "./base.css";

dialog.vf-modal {
  --color-content-bg: var(--color-bg-neutral);
  --color-overlay-bg: var(--color-neutral-600);
  --color-content-sep: var(--color-border-neutral);
  --color-dialog-title: var(--color-primary-600);
  --transition-duration-fade: 150ms;
  --transition-timing-function-fade: ease-in-out;
  --modal-inline: var(--width-lg);

  display: flex;
  pointer-events: none;
  opacity: 0;

  &::backdrop {
    background-color: var(--color-overlay-bg);
    filter: blur(var(--blur-lg));
    opacity: 0;
  }

  &[open] {
    pointer-events: inherit;
    opacity: 1;
    animation: fade-in var(--transition-duration-fade) var(--transition-timing-function-fade) normal;

    &::backdrop {
      opacity: 1;
      animation: fade-in var(--transition-duration-fade) var(--transition-timing-function-fade) normal;
    }
  }

  &.vf-modal-closing {
    opacity: 0;
    animation: fade-out var(--transition-duration-fade) var(--transition-timing-function-fade) normal;

    &::backdrop {
      opacity: 0;
      animation: fade-out var(--transition-duration-fade) var(--transition-timing-function-fade) normal;
    }
  }

  & > div.vf-modal-container {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: end;
    justify-content: center;
    inline-size: 100vi;
    block-size: 100vb;
    padding: 0;
    overflow-y: auto;

    & > section.vf-modal-content {
      position: relative;
      inline-size: var(--modal-inline);
      min-block-size: fit-content;
      padding: var(--spacing-4) var(--spacing-6);
      color: var(--color-text);
      background-color: var(--color-content-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--drop-shadow-xl);

      & > header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: var(--spacing-2) var(--spacing-1);
        margin: -1em;
        border-block-end: 1px solid var(--color-content-sep);

        & > h2 {
          display: inline-flex;
          margin: var(--spacing-4) 0 var(--spacing-2) var(--spacing-2);
          color: var(--color-dialog-title);
        }

        & > form {
          display: flex;
          margin-block-start: -1em;

          & > button {
            font-size: var(--font-size-sm);
          }
        }
      }
    }
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

@media (width >= 40rem) {
  dialog.vf-modal > div.vf-modal-container {
    align-items: center;
  }
}
